[[setup-upgrade]]
== 升级

[IMPORTANT]
===========================================
在升级Elasticsearch之前:

* 查阅 <<breaking-changes,重要变更>> 文档.
* 升级生产环境集群之前在开发环境测试一下升级.
* 在升级之前永远记得要备份你的数据. 除非你有数据的 <<backup,备份>> , 否则你永远都不能回滚到之前的版本.
===========================================

Elasticsearch 通常可以使用滚动升级过程来进行升级, 这样不会导致服务中断. 本节将会详细介绍如何执行滚动升级
和整个集群重启升级.

请查阅下面这个表来判断你当前版本是否支持滚动:

[cols="1<m,1<m,3",options="header",]
|=======================================================================
|当前版本    |升级到的版本     |支持的升级类型
|0.90.x     |2.x            |<<restart-upgrade,整个集群重启>>
|1.x        |2.x            |<<restart-upgrade,整个集群重启>>
|2.x        |2.y            |<<rolling-upgrades,滚动升级>> (其中 `y > x`)
|=======================================================================

TIP: 在升级的时候同样要考虑插件的升级. 大多数插件需要和 Elasticsearch 一起升级, 鉴于 API 的变更是兼容的, 一些主要通过浏览器 (`_site` 插件) 访问的插件还可以继续工作.

include::backup.asciidoc[]

include::rolling_upgrade.asciidoc[]

include::cluster_restart.asciidoc[]
